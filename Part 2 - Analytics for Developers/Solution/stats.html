<!DOCTYPE html>
<html>
  <head>
    <title>Analytics 101</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/jumbotron.css" rel="stylesheet">
    <link href="css/custom.css" rel="stylesheet"> 

    <script type="text/javascript">
      // Include the Keen IO library for Analysis
      var Keen=Keen||{configure:function(e){this._cf=e},addEvent:function(e,t,n,i){this._eq=this._eq||[],this._eq.push([e,t,n,i])},setGlobalProperties:function(e){this._gp=e},onChartsReady:function(e){this._ocrq=this._ocrq||[],this._ocrq.push(e)}};(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://":"http://")+"dc8na2hxrj29i.cloudfront.net/code/keen-2.1.0-min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();

      // // Configure the Keen object with your Project ID and (optional) access keys.
      // Keen.configure({
      //   projectId: "<your project ID>",
      //   writeKey: "<your write key>", // required for sending events
      //   readKey: "<your read key>" // required for querying/charting events
      // });
      
      // Configure the Keen object with your Project ID and (optional) access keys.
      Keen.configure({
          projectId: "527f4a5705cd666b59000003",
          writeKey: "01729e494648af5381f18c674b380b7d6946796bb2934c375825bd5a83511cb8c8f6f69db1e11032c099bd5d5a99c0b98d6ae505857785a71fc853ce6cefad0148ea05e07c02834deac5bc35c00c96e20ea1e3a8e91bca7ad3619b2a92c185f979667201a2829a2082d5f0d63b347b57", // required for sending events
          readKey: "01729e494648af5381f18c674b380b7d6946796bb2934c375825bd5a83511cb8c8f6f69db1e11032c099bd5d5a99c0b98d6ae505857785a71fc853ce6cefad0148ea05e07c02834deac5bc35c00c96e20ea1e3a8e91bca7ad3619b2a92c185f979667201a2829a2082d5f0d63b347b57"    // required for doing analysis
      });
      
    </script>
    
  </head>
  <body>

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">What a nice website!</a>
        </div>
        <div class="navbar-collapse collapse">
          <form class="navbar-form navbar-right">
            <div class="form-group">
              <input type="text" placeholder="Email" class="form-control">
            </div>
            <div class="form-group">
              <input type="password" placeholder="Password" class="form-control">
            </div>
            <button type="submit" class="btn btn-success">Sign in</button>
          </form>
        </div><!--/.navbar-collapse -->
      </div>
    </div>

    <div class="jumbotron">
      <div class="container">
        <h1 id="mainHeader">Stats!</h1>
        <p>Here are some data points.</p>
      </div>
    </div>

    <!-- LOOK HERE! I've made three placeholders for your charts in the container below. -->
    <!-- You do not need to write any code in this section. Use the <script> section below. -->
    <!-- You will reference these placeholders by div id when you use Javascript to generate the charts. -->
    
    <div class ="container">
      <div class="row">
        <div class="col-md-6">
          <div id="chart1"></div> <!-- LOOK HERE! It's a placeholder for a new chart. -->
        </div>
        <div class="col-md-6">
          <div id="chart2"></div> <!-- LOOK HERE! It's a placeholder for a new chart. -->
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div id="chart3"></div> <!-- LOOK HERE! It's a placeholder for a new chart. -->
        </div>  
      </div>
    </div>  

    <script type="text/javascript" charset="utf-8">
      

      Keen.onChartsReady(function() {   // The onChartsReady function draws charts as soon as the page is loaded.
            
            // [] [] Item 1 [] [] [] [] [] [] [] [] [] [] [] [] 
            // The first widget here is almost finished. Just insert your collection name and it should work.
            // This is a counter for the total number of button clicks (all time running total).

            var metric1 = new Keen.Metric("engagements", {
                analysisType: "count"  // Query parameters go in here. In this example we just have one (analysisType).
            });

            metric1.draw(document.getElementById("chart1"), {  // 
                label: "Total Engagements All Time"
            });


            // [] [] Item 2 [] [] [] [] [] [] [] [] [] [] [] [] 
            // Find the total number of engagements sorted by header
            // Draw it as a PieChart
            // Reference Keen IO Javascript Reference Docs to find out how to do this

            var metric2 = new Keen.Metric("engagements", {
                analysisType: "count",
                groupBy: "h1Text"
            });
            metric2.draw(document.getElementById("chart2"));


            // [] [] Item 3 [] [] [] [] [] [] [] [] [] [] [] [] 
            // Find the total number of engagements over time
            // Reference Keen IO Javascript Reference Docs to find out how to do this

           var series = new Keen.Series("engagements", {
               analysisType: "count",
               timeframe: "last_30_minutes",
               interval: "minutely"
          });
          series.draw(document.getElementById("chart3"));

          
      });
      
    </script>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    
  </body>
</html>